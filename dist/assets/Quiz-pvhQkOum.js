import{d as I,h as T,r as h,i as d,c,a as t,t as a,j as v,b as m,w as f,k as A,F as Q,l as w,f as F,g as _,o as l,m as L,e as j,n as R,_ as $}from"./index-BfSfeTUe.js";const D={class:"quiz"},E={class:"progress-container"},H={class:"progress-text"},P={class:"question-card"},U={class:"question-text"},G={class:"options"},J={key:0,class:"hint"},K={class:"questions-panel"},M={class:"questions-list"},O=["onClick"],W={class:"question-number"},X={class:"question-status"},Y=I({__name:"Quiz",setup(Z){const q=F(),e=T(),n=h(null),p=h(!1),r=d(()=>e.currentQuestionIndex),g=d(()=>e.currentQuestions[r.value]),k=d(()=>r.value===e.currentQuestions.length-1),C=d(()=>e.progress),V=s=>`${s.toFixed(0)}%`,b=()=>{p.value=!0,setTimeout(()=>{n.value!==null&&(e.submitAnswer(n.value),n.value=null,p.value=!1,k.value&&(e.calculateResult(),console.log("Last question answered, navigating to result"),console.log("Current result:",e.result),setTimeout(()=>{q.push("/result").catch(s=>{console.error("Navigation failed:",s)})},800)))},800)},x=s=>{e.currentQuestionIndex=s,n.value=e.answers[s]||null},z=s=>s===r.value?"当前题目":e.answers[s]!==void 0?"已作答":"未作答";return(s,i)=>{const y=_("el-progress"),N=_("el-radio"),S=_("el-radio-group"),B=_("el-alert");return l(),c("div",D,[t("div",E,[t("h2",H,"进度: "+a(r.value+1)+"/"+a(v(e).currentQuestions.length),1),m(y,{percentage:C.value,format:V},null,8,["percentage"])]),t("div",P,[t("h2",U,a(g.value.text),1),t("div",G,[m(S,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=u=>n.value=u),class:"option-group",onChange:b},{default:f(()=>[(l(!0),c(Q,null,w(g.value.options,(u,o)=>(l(),L(N,{key:o,label:u.score,class:"option-item"},{default:f(()=>[j(a(u.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),p.value?(l(),c("div",J,[m(B,{title:"已选择答案，即将进入下一题...",type:"success",closable:!1,"show-icon":""})])):A("",!0)]),t("div",K,[i[1]||(i[1]=t("h3",null,"题目列表",-1)),t("div",M,[(l(!0),c(Q,null,w(v(e).currentQuestions,(u,o)=>(l(),c("div",{key:o,class:R(["question-item",{answered:v(e).answers[o]!==void 0,current:o===r.value}]),onClick:ee=>x(o)},[t("span",W,a(o+1),1),t("span",X,a(z(o)),1)],10,O))),128))])])])}}}),te=$(Y,[["__scopeId","data-v-0ea19742"]]);export{te as default};
